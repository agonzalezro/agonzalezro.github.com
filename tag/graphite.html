<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Álex's blog - graphite</title>

    <meta charset="utf-8" />
    <!-- What do you think, are all really needed? -->
    <meta http-equiv="expires" content="0">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="Pragma" content="no-cache">

    <link href=".././theme/css/pygment.css" rel="stylesheet" type="text/css" />
    <link href=".././theme/css/bootstrap.min.css" rel="stylesheet">
    <link href="http://twitter.github.com/bootstrap/assets/css/bootstrap-responsive.css" rel="stylesheet">
    <link href=".././theme/css/overrides.css" rel="stylesheet" type="text/css" />
    <link href="http://fortawesome.github.com/Font-Awesome/assets/css/font-awesome.css" rel="stylesheet">

    <!--[if IE]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

    <!--[if lte IE 7]>
    <link rel="stylesheet" type="text/css" media="all" href=".././css/ie.css"/>
    <script src=".././js/IE8.js" type="text/javascript"></script><![endif]-->

    <!--[if lt IE 7]>
    <link rel="stylesheet" type="text/css" media="all" href=".././css/ie6.css"/><![endif]-->

    <!--[if IE 7]>
    <link href="http://fortawesome.github.com/Font-Awesome/assets/css/font-awesome-ie7.css" rel="stylesheet"><![endif]-->

    
    <link href="http://agonzalezro.github.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Álex's blog Atom Feed" />
    
    

    
      <script type="text/javascript">var switchTo5x=false;</script>
      <script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script>
      <script type="text/javascript">stLight.options({publisher: "db740e9c-f490-4a3f-813a-5d257e1ea7f8"});</script>
    
  </head>

  <body id="index" class="home">
    
<a href="https://github.com/agonzalezro/agonzalezro.github.com">

<img style="z-index: 44444; position: fixed; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />

</a>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <div class="span8 offset2">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </a>
            <a class="brand" href="../.">Álex's blog</a>
            <div class="nav-collapse">
              <p class="navbar-text pull-right">
                 
                 <a href="http://agonzalezro.github.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Álex's blog"><b class="icon-rss"></b></a>
                
                
              </p>
              <ul class="nav">
                <li class="dropdown">
                  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Categories <b class="caret"></b></a>
                  <ul class="dropdown-menu">
                    
                      <li ><a href=".././category/dev.html">dev</a></li>
                    
                      <li ><a href=".././category/pygrunn.html">pygrunn</a></li>
                    
                  </ul>
                </li>
                
                  
                      <li><a href=".././pages/about.html">About</a></li>
                  
                
              </ul>
            </div><!--/.nav-collapse -->
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="span8 offset2">
          

  
    <section id="">
    <div class="page-header">
      <h1><a href=".././graphite-carbon-and-diamond.html">Graphite, Carbon and Diamond</a></h1>
      <span class="label label-success">by Álex</span>
<span class="label label-success"><abbr class="published" title="2012-11-06T19:30:00">Tue 06 November 2012</abbr></span>
<a class="label label-info" href=".././category/pygrunn.html">pygrunn</a>

  <a class="label" href=".././tag/graphite.html">graphite</a>

  <a class="label" href=".././tag/carbon.html">carbon</a>

  <a class="label" href=".././tag/diamond.html">diamond</a>

  <a class="label" href=".././tag/monitoring.html">monitoring</a>

  <a class="label" href=".././tag/python.html">python</a>

    </div>
    <p>Two days ago was my, sadly, last PyGrunn monthly meeting. Thanks to <a class="reference external" href="http://www.linkedin.com/profile/view?id=17961952&amp;locale=en_US&amp;trk=tyah">Bram</a> now
we know a little bit more about how to monitoring with Python applications.</p>
<p>Below you will find the notes that I take to the people that couldn't assist to
the talk. But they are only that, some notes, don't expect to find a really cool
story on them. I am pretty sure that <a class="reference external" href="../static/graphite.slides/graphite.html">the original slides made by Bram</a> will help
you.</p>
<div class="section" id="why-graphite">
<h2>Why graphite?</h2>
<ul class="simple">
<li>Dev friendly</li>
<li>Ops friendly</li>
<li>Growth friendly: very scalable</li>
</ul>
<p>Some important companies are using it: Instragram, Etsy, Github, <a class="reference external" href="http://www.kalooga.com">Kalooga</a> (this is the company where Bram is working :).</p>
<p>It's a project created by <a class="reference external" href="../static/orbitz.com">Orbitz.com</a>.</p>
</div>
<div class="section" id="ecosystem">
<h2>Ecosystem</h2>
<dl class="docutils">
<dt>Graphite</dt>
<dd>The tool that makes the graphs.</dd>
<dt>Carbon</dt>
<dd>Colects the statistics.</dd>
<dt>Whisper</dt>
<dd>Metrics <cite>RRD (Round Robin database)</cite>.</dd>
<dt>Diamond</dt>
<dd>It's the metrics collector, they are others: CollectD, Munin, Ganglia... Of
course, you can develop yours.</dd>
</dl>
</div>
<div class="section" id="how-do-you-gate-the-data-in">
<h2>How do you gate the data in?</h2>
<ol class="arabic simple">
<li>Create an HTTP connection to the server.</li>
<li>Each line will be a data point.</li>
</ol>
<p>If you want namespaces you can always use dots <cite>.</cite>. Example: <cite>pygrunn.load
[load] [now]</cite>.</p>
</div>
<div class="section" id="improvements">
<h2>Improvements</h2>
<p>Why don't use statsd? It's a layer for Graphite that you can use to keep your
application running and send the data to statsd. If it can write it ok, if not,
you have a problem.</p>
<p>The original implementation of StatsD is in Node.js but there are another
projects that do it with C (StatsD-c) or python (Bucky) or [write your prefered
language here].</p>
</div>
<div class="section" id="uses">
<h2>Uses</h2>
<ul class="simple">
<li>Open a <cite>dev</cite> file and write directly to it.</li>
<li>Open HTTP connection.</li>
<li>Use a statsd decorator.</li>
<li>...</li>
</ul>
</div>
<div class="section" id="plots">
<h2>Plots</h2>
<p>You can plot data with:</p>
<ul class="simple">
<li>JSON</li>
<li>CSV</li>
<li>HTML</li>
<li>XML</li>
<li>...</li>
</ul>
</div>
<div class="section" id="api">
<h2>API</h2>
<p>You can do funny things as:</p>
<ul class="simple">
<li>Check the registered users over past day in json data</li>
<li>Keep track of your 404 errors</li>
<li>...</li>
</ul>
</div>
<div class="section" id="where-is-the-data-store">
<h2>Where is the data store?</h2>
<p>They are stored in files, in case that you run out of space this data will be
stored on the Carbon cache until something happen to it.a</p>
</div>
<div class="section" id="functions">
<h2>Functions</h2>
<p>You can filter results, for example mostDeviant (take a look to the slides to
see the screenshots that show the use).</p>
</div>
<div class="section" id="what-s-also-nice">
<h2>What's also nice?</h2>
<dl class="docutils">
<dt>Sentry</dt>
<dd>Error caching middleware that you can run with your WSGI application to
check the Exceptions and the stacktraces.</dd>
<dt>Shinken</dt>
<dd>It's also written in python and it's compatible with Nagios. It could be a
good complement to Graphite to show some alerts when the thing are really
wrong.</dd>
<dt>New Relic</dt>
<dd>It's a Web Application Performance Management (<cite>APM (Application
Performance Management</cite>).</dd>
</dl>
</div>

    <strong>
      <p>There are <a href=".././graphite-carbon-and-diamond.html#disqus_thread">comments</a>.</p>
    </strong>
    </section>

    
      
    

  


      </div>
    </div>

    
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-35984509-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

    
    
<script type="text/javascript">
    var disqus_shortname = 'agonzalezro';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>


    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script src="http://twitter.github.com/bootstrap/assets/js/bootstrap.min.js"></script>
    <!-- WTF!? Load it two time if not doesn't work! lol -->
    <script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-dropdown.js"></script>
    <script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-dropdown.js"></script>
  </body>
</html>