
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>
agonzalezro.github.io
</title>

    <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    

    
  <link rel="stylesheet" href="/static/css/bootstrap.min.css">

  </head>

  <body>
    <div class="navbar navbar-default navbar-static-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">agonzalezro.github.io</a>
        </div>
        
        <div class="navbar-collapse collapse">
          
          <ul class="nav navbar-nav">
            
            <li><a href="/archives.html">Archives</a></li>
            
            
            <li><a href="/pages/about.html">About</a></li>
            
          </ul>
          
          
          <ul class="nav navbar-nav navbar-right">
            
            <li class="dropdown">
            <a href="#" data-toggle="dropdown">Categories <b class="caret"></b></a>
            <ul class="dropdown-menu">
              
              
              <li>
              <a href="/category/blog.html">blog <span class="badge pull-right">2</span></a>
              </li>
              
              
              <li>
              <a href="/category/dev.html">dev <span class="badge pull-right">3</span></a>
              </li>
              
              
              <li>
              <a href="/category/devop.html">devop <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/category/gnome.html">gnome <span class="badge pull-right">2</span></a>
              </li>
              
              
              <li>
              <a href="/category/go.html">go <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/category/linux.html">linux <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/category/talks.html">talks <span class="badge pull-right">9</span></a>
              </li>
              
              
              <li>
              <a href="/category/vim.html">vim <span class="badge pull-right">1</span></a>
              </li>
              
            </ul>
            </li>
            
            
            <li class="dropdown">
            <a href="#" data-toggle="dropdown">Tags <b class="caret"></b></a>
            <ul class="dropdown-menu">
              
              
              <li>
              <a href="/tag/1.5.html">1.5 <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/BOOTSTRA.386.html">BOOTSTRA.386 <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/apache.html">apache <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/ar9285.html">ar9285 <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/ath9k.html">ath9k <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/atheros.html">atheros <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/backbone.html">backbone <span class="badge pull-right">2</span></a>
              </li>
              
              
              <li>
              <a href="/tag/bensday.html">bensday <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/best.html">best <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/carbon.html">carbon <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/cartodb.html">cartodb <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/celery.html">celery <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/clarity.html">clarity <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/codereview.html">codereview <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/colors.html">colors <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/desertEx.html">desertEx <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/desktop.html">desktop <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/diamond.html">diamond <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/django.html">django <span class="badge pull-right">3</span></a>
              </li>
              
              
              <li>
              <a href="/tag/djugl.html">djugl <span class="badge pull-right">3</span></a>
              </li>
              
              
              <li>
              <a href="/tag/flask.html">flask <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/flats.html">flats <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/friends.html">friends <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/gnome.html">gnome <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/gnome3.html">gnome3 <span class="badge pull-right">2</span></a>
              </li>
              
              
              <li>
              <a href="/tag/go.html">go <span class="badge pull-right">2</span></a>
              </li>
              
              
              <li>
              <a href="/tag/golang.html">golang <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/graphite.html">graphite <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/groningen.html">groningen <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/gui.html">gui <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/hackathon.html">hackathon <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/haproxy.html">haproxy <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/hate.html">hate <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/javascript.html">javascript <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/jelleybeans.html">jelleybeans <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/lanyrd.html">lanyrd <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/layout.html">layout <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/linux.html">linux <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/london.html">london <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/lowspeed.html">lowspeed <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/march.html">march <span class="badge pull-right">3</span></a>
              </li>
              
              
              <li>
              <a href="/tag/metaclass.html">metaclass <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/migration.html">migration <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/mongodb.html">mongodb <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/monitoring.html">monitoring <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/my-english-is-crap.html">my-english-is-crap <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/mysql.html">mysql <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/paylogic.html">paylogic <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/pelican.html">pelican <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/polo.html">polo <span class="badge pull-right">2</span></a>
              </li>
              
              
              <li>
              <a href="/tag/postgresql.html">postgresql <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/practices.html">practices <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/pygrunn.html">pygrunn <span class="badge pull-right">4</span></a>
              </li>
              
              
              <li>
              <a href="/tag/python.html">python <span class="badge pull-right">6</span></a>
              </li>
              
              
              <li>
              <a href="/tag/python3k.html">python3k <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/readable.html">readable <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/redis.html">redis <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/rent.html">rent <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/s3.html">s3 <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/scala.html">scala <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/scrape.html">scrape <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/slides.html">slides <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/solr.html">solr <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/static.html">static <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/tail.html">tail <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/talk.html">talk <span class="badge pull-right">2</span></a>
              </li>
              
              
              <li>
              <a href="/tag/theme.html">theme <span class="badge pull-right">2</span></a>
              </li>
              
              
              <li>
              <a href="/tag/theming.html">theming <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/thrift.html">thrift <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/tmux.html">tmux <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/ubuntu.html">ubuntu <span class="badge pull-right">2</span></a>
              </li>
              
              
              <li>
              <a href="/tag/undercore.html">undercore <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/unity.html">unity <span class="badge pull-right">2</span></a>
              </li>
              
              
              <li>
              <a href="/tag/varnish.html">varnish <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/wifi.html">wifi <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/winsterday.html">winsterday <span class="badge pull-right">1</span></a>
              </li>
              
            </ul>
            </li>
            
          </ul>
          
        </div>
        
      </div>
    </div>

    <div class="container col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2">
      



<article>
<h1><a href="how-to-find-a-flat-in-london-with-some-help.html">How to find a flat in London with some help</a></h1>

<p>

<span class="label label-default">by Álex</span>



<span class="label label-default">2014-09-03</span>



<a class="label label-success" href="/category/dev.html">dev</a>




<a class="label label-info" href="/tag/.html"></a>

<a class="label label-info" href="/tag/flats.html">flats</a>

<a class="label label-info" href="/tag/london.html">london</a>

<a class="label label-info" href="/tag/rent.html">rent</a>

<a class="label label-info" href="/tag/cartodb.html">cartodb</a>

<a class="label label-info" href="/tag/scrape.html">scrape</a>

<a class="label label-info" href="/tag/.html"></a>


</p>

<p><strong>EDIT:</strong> I&rsquo;ve added a little bit more of code to the gist to get the latitude
and longitude of the flat. This way the process of plotting them is more
accurate and incredibly easy. Thanks again <a href="http://cartodb.com">CartoDB</a>!</p>

<p>At the end of this month I am going to move with a friend. This movement is
going to be something like the 7th one since I am living here (little bit less
than 2 years).</p>

<p>We are a little bit struggling trying to find a place so I decided that we need
a little bit of help:</p>

<p>Do you know <a href="http://gumtree.com">gumtree.com</a>? That page is extremely good for
renting if you just take care of the content (aka adverts that users upload)
but it&rsquo;s extremely bad at searching: I couldn&rsquo;t filter to know when the flat would be available and I would be able to move in! Seriously?</p>

<p>To fix this I made a small scraper that is going to gather data from few pages
of the search results already filtered by gumtree, check the <code>QUERY_PARAMS</code> on
the <a href="https://gist.github.com/agonzalezro/440e7bf41e77c284d735">following gist</a>:</p>

<script src="https://gist.github.com/agonzalezro/440e7bf41e77c284d735.js"></script>

<p>In the other hand, the location needs to be a place close to King&rsquo;s Cross and
close to Mile End. Calculate commute times from one address to another one
doesn&rsquo;t look straightforward and easy to do, so, the best solution (in relation
dev_time/benefit) was showing all those flats in a map, and I made it thanks to
the help of CartoDB. This piece of software is amazing, basically the process
was:</p>

<ol>
<li>drag&amp;drop the CSV to your CartoDB account.</li>
<li><del>click on the dropdown of the &ldquo;location&rdquo; row and then on &ldquo;Georeference&rdquo;.</del></li>
<li><del>in the popup that will be shown to you, you must select &ldquo;&ldquo;You have one or
more columns with the address&rdquo;, and after that you will have a georeferenced
list of points. The only bad point with this solution is that every month
you just have 100 geoferential queries available for free :(</del></li>
</ol>

<p>With that data you can create your own visualisation as I made here:</p>

<iframe width='100%' height='520' frameborder='0' src='//alex.cartodb.com/viz/e3731a92-1c13-11e4-9a2d-0e10bcd91c2b/embed_map?title=true&description=true&search=false&shareable=true&cartodb_logo=true&layer_selector=false&legends=false&scrollwheel=true&fullscreen=true&sublayer_options=1&sql=&sw_lat=51.31344707827587&sw_lon=-0.5657958984375&ne_lat=51.67681321379405&ne_lon=0.318603515625' allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen></iframe>

<p>If you want to say something about this post or you want to offer me a nice
flat in London, feel free of use the comments or find me in twitter:
<a href="http://twitter.com/agonzalezro">@agonzalezro</a></p>

<p class="text-right"><a class="btn btn-default" href="how-to-find-a-flat-in-london-with-some-help.html#disqus_thread">Leave a comment!</a></p>
</article>
<hr>

<article>
<h1><a href="polo-supports-theming-now.html">polo supports theming now!</a></h1>

<p>

<span class="label label-default">by Álex</span>



<span class="label label-default">2014-07-27</span>



<a class="label label-success" href="/category/blog.html">blog</a>




<a class="label label-info" href="/tag/.html"></a>

<a class="label label-info" href="/tag/theme.html">theme</a>

<a class="label label-info" href="/tag/theming.html">theming</a>

<a class="label label-info" href="/tag/polo.html">polo</a>

<a class="label label-info" href="/tag/BOOTSTRA.386.html">BOOTSTRA.386</a>

<a class="label label-info" href="/tag/.html"></a>


</p>

<p>If you have seen my blog before I am pretty sure that you remember that the
current theme is not the one that it used to be. I&rsquo;ve created a theming
&ldquo;engine&rdquo; for <a href="https://github.com/agonzalezro/polo">polo</a> and for doing the
showcase of the functionality I&rsquo;ve chosen the awesome
<a href="https://github.com/kristopolous/BOOTSTRA.386">BOOTSTRAP/386</a> theme.</p>

<p>In this post I am going to try to explain how the theming works. First of all I
wanted a really easy way of implementing/overriding/composite themes so I
decided for the following:</p>

<ol>
<li>Using <a href="https://github.com/jteeuwen/go-bindata">go-bindata</a> (thanks again to
<a href="https://twitter.com/francesc">@francesc</a> for the recommendation) I include all
the default templates (with a basic bootstrap theme) in the polo binary.</li>
<li>If the place where you have your content override some of the <a href="https://github.com/agonzalezro/polo/tree/master/templates">default
templates</a> as for
example <a href="https://github.com/agonzalezro/agonzalezro.github.io/tree/master/templates">I am doing
here</a>
it will used those.</li>
<li>If you don&rsquo;t have a local template, polo will use the ones included in the
binary.</li>
<li>Profit!</li>
</ol>

<p>As you can see is really straightforward to create your own theme for polo now.
As I said before I wanted to showcase the theming &ldquo;engine&rdquo; with something that
you are going to remember as it can be the <code>BOOTSTRA.386</code> theme, but I suspect
that in few days I am going to change it back to something more standard.</p>

<p>PS: I was really missing this blue/grey DOS design: <code>EDIT</code>, <code>QBASIC</code>,
<code>DBASE</code>&hellip; so much fun!</p>

<p>PS2: this is the commit where I&rsquo;ve changed the blog theme:
<a href="https://github.com/agonzalezro/agonzalezro.github.io/commit/12d73af4a6b68182dd4fd67db03df4da5c8aea2f">12d73af</a>.
If you want to take a look forget about the <code>*.html</code> changes and search for the
<code>templates/</code> changes. As you can see it is really straightforward.</p>

<p class="text-right"><a class="btn btn-default" href="polo-supports-theming-now.html#disqus_thread">Leave a comment!</a></p>
</article>
<hr>

<article>
<h1><a href="12-go-best-practices.html">12 Go Best Practices</a></h1>

<p>

<span class="label label-default">by Álex</span>



<span class="label label-default">2014-04-02</span>



<a class="label label-success" href="/category/talks.html">talks</a>




<a class="label label-info" href="/tag/.html"></a>

<a class="label label-info" href="/tag/go.html">go</a>

<a class="label label-info" href="/tag/best.html">best</a>

<a class="label label-info" href="/tag/practices.html">practices</a>

<a class="label label-info" href="/tag/.html"></a>


</p>

<p>Last Monday I had the chance to see <a href="https://twitter.com/francesc">@francesc</a>
talking on the <a href="http://www.meetup.com/Go-London-User-Group">Go London User
Group</a>. His talk was about best
practices (and advices) when you are programming in Go.</p>

<p>Summarising it a little bit, I would say that some of the cases explained there
are things that you are going to finish doing even without knowing that you are
doing &ldquo;best practices&rdquo;, but they are other examples that are incredible useful
and clever &amp; I would love to assist to this conference few months ago.</p>

<p>At the beginning of the slides you are going to see an step-by-step refactoring
which could (and should) be applied to any other language out there. You will
realise of the major improvement on the readability of that piece of code.
Francesc said that the refactored version could possibly be a little bit
slower, but you will have in your power a piece of maintainable code.</p>

<p>If I need to choose one of the tricks showed, I would definitely go for the
type switch on the (<a href="http://talks.golang.org/2013/bestpractices.slide#8">slide
#8</a>). Basically, you can
receive an interface as parameter and do a quick casting to whatever kind of
type that you want:</p>

<pre><code>....
switch x := v.(type) {  // where v is an interface{}
case string:
    w.Write(int32(len(x)))
    w.Write([]byte(x))
...
</code></pre>

<p>I would say too that coming from a language like Python, it&rsquo;s really easy to be
temped to overuse that functionality :) What do you think?</p>

<p>Finally, <a href="http://talks.golang.org/2013/bestpractices.slide#1">here you have the
slides</a> enjoy them as I
did!</p>

<p class="text-right"><a class="btn btn-default" href="12-go-best-practices.html#disqus_thread">Leave a comment!</a></p>
</article>
<hr>

<article>
<h1><a href="tailing-multiple-logs-with-tmux.html">Tailing multiple logs with tmux</a></h1>

<p>

<span class="label label-default">by Álex</span>



<span class="label label-default">2014-03-15</span>



<a class="label label-success" href="/category/devop.html">devop</a>




<a class="label label-info" href="/tag/.html"></a>

<a class="label label-info" href="/tag/tail.html">tail</a>

<a class="label label-info" href="/tag/tmux.html">tmux</a>

<a class="label label-info" href="/tag/.html"></a>


</p>

<p>I had a system that was creating a different log for each worker. Those logs
where in the form: <code>/var/log/baselog</code>, <code>/var/log/baselog.1</code>,
<code>/var/log/baselog.2</code> and so on. I wanted to tail them but they were being
updated simultaneously so the output of the tail was being a mess.</p>

<p>I am a <a href="http://tmux.sourceforge.net/">tmux</a> user since few months ago (if you
aren&rsquo;t, you should!) so I&rsquo;ve decide to open all of them in different tmux
panes. Thanks to having a pane for every log what we will achieve is the
ability to scroll just one of them, maximize it in case that we need it, move
to a new window, save the buffer&hellip;</p>

<p>How can you achieve that? Quite simple, just download this script to some
place:</p>

<script src="https://gist.github.com/agonzalezro/9573541.js"></script>

<p>Once you have saved it installed, run it with the base log file:</p>

<pre><code>sh tail_several_logs.sh /var/log/baselog
</code></pre>

<p>The script have some limitations easily fixable:</p>

<ul>
<li>You should provide a fullpath.</li>
<li>The logs should be in the form of baselog.N where N is a number.</li>
<li>I am pretty sure that the loop can be done better.</li>
<li>And select the layout in every iteration is not the best of the ideas, but it
works.</li>
</ul>

<p>Feel free of do whatever you want with the script. I just hope that it&rsquo;s useful
for somebody else.</p>

<p class="text-right"><a class="btn btn-default" href="tailing-multiple-logs-with-tmux.html#disqus_thread">Leave a comment!</a></p>
</article>
<hr>





<div class="text-center"><ul class="pagination">

    <li class="
    
    disabled
    
    ">
    <a href="#">&laquo;</a>
    </li>

    
    <li class="active">
    <a href="/index.html">
      1
    </a>
    </li>
    
    <li >
    <a href="/index2.html">
      2
    </a>
    </li>
    
    <li >
    <a href="/index3.html">
      3
    </a>
    </li>
    
    <li >
    <a href="/index4.html">
      4
    </a>
    </li>
    
    <li >
    <a href="/index5.html">
      5
    </a>
    </li>
     

    <li class="
    
    ">
    <a href="/index2.html">&raquo;</a>
    </li>

</ul></div>
 

    </div>
    
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  <script src="//getbootstrap.com/dist/js/bootstrap.min.js"></script>

    
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-35984509-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  

  </body>
</html>
